<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Browse our collection of high-quality sports and fitness products">
  <meta name="keywords" content="sports, fitness, clothing, shoes, sportswear">
  <title>Products - Sports & Fitness Store</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Header Section -->
  <header class="header" role="banner">
    <div class="container">
      <nav class="navbar" role="navigation" aria-label="Main navigation">
        <a href="index.html" aria-label="Go to home page">Home</a>
        <a href="products.html" aria-current="page">Products</a>
        <a href="about.html" aria-label="Go to about page">About</a>
        <a href="contact.html" aria-label="Go to contact page">Contact</a>
        <a href="account.html" aria-label="Go to account page">Account</a>
        <a href="carts.html" aria-label="View shopping cart">
          <img src="./image/cart2.png" width="30" height="30" alt="Shopping cart" loading="lazy">
        </a>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main class="allProductSection" role="main">
    <!-- Product Filter Section -->
    <section class="allProductSectionLabel" aria-labelledby="products-heading">
      <div class="filter-container">
        <h1 id="products-heading">All Products</h1>
        
        <!-- Category Filter Buttons -->
        <div class="category-filters" role="group" aria-label="Filter products by category">
          <button class="filter-btn active" data-category="all" aria-pressed="true">All Products</button>
          <button class="filter-btn" data-category="clothing" aria-pressed="false">Clothing</button>
          <button class="filter-btn" data-category="footwear" aria-pressed="false">Footwear</button>

        </div>
        
        <div class="sort-container">
          <label for="sort-select" class="visually-hidden">Sort products by:</label>
          <select id="sort-select" aria-label="Sort products">
            <option value="default">Default Sorting</option>
            <option value="price-low">Sort By Price: Low to High</option>
            <option value="price-high">Sort By Price: High to Low</option>
            <option value="popularity">Sort By Popularity</option>
            <option value="rating">Sort By Rating</option>
            <option value="sale">Sort By Sale</option>
          </select>
        </div>
      </div>
    </section>

    <!-- Products Grid Section -->
    <section class="feature-products" aria-labelledby="products-heading">
      <h2 id="products-grid-heading">Products</h2>
      <div class="customUnderline">
        <div class="customUnderlineItem"></div>
      </div>

      <div class="product-container" role="grid" aria-label="Product grid">
        <!-- Product 1 -->
        <article class="product-card" role="gridcell" data-category="clothing" data-price="799">
          <div class="wishlist-heart" onclick="toggleWishlist(this, 'menwear')" aria-label="Add to wishlist" role="button" tabindex="0">
            <span class="heart-icon">ü§ç</span>
        </div>
          <a href="product-details.html" class="product-link" aria-label="View details for Men's Sportswear">
              <img src="./image/menwear.png" alt="Men's Sportswear" loading="lazy">
              <h3 class="product-title">Men's Sportswear</h3>
              <div class="rating-container" aria-label="5 out of 5 stars">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
        </div>
              <span class="product-pricing" aria-label="Price: ‚Çπ799.00">‚Çπ799.00</span>
          </a>
          <button class="add-to-cart-btn" onclick="addToCart('menwear')" aria-label="Add Men's Sportswear to cart">
            Add to Cart
          </button>
        </article>

        <!-- Product 2 -->
        <article class="product-card" role="gridcell" data-category="clothing" data-price="299">
          <div class="wishlist-heart" onclick="toggleWishlist(this, 'shorts')" aria-label="Add to wishlist" role="button" tabindex="0">
            <span class="heart-icon">ü§ç</span>
      </div>
          <a href="product-details.html" class="product-link" aria-label="View details for Sports Shorts">
              <img src="./image/shorts.png" alt="Sports Shorts" loading="lazy">
              <h3 class="product-title">Sports Shorts</h3>
              <div class="rating-container" aria-label="5 out of 5 stars">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
        </div>
              <span class="product-pricing" aria-label="Price: ‚Çπ299.00">‚Çπ299.00</span>
          </a>
          <button class="add-to-cart-btn" onclick="addToCart('shorts')" aria-label="Add Sports Shorts to cart">
            Add to Cart
          </button>
        </article>

        <!-- Product 3 -->
        <article class="product-card" role="gridcell" data-category="clothing" data-price="399">
          <div class="wishlist-heart" onclick="toggleWishlist(this, 'women')" aria-label="Add to wishlist" role="button" tabindex="0">
            <span class="heart-icon">ü§ç</span>
      </div>
          <a href="product-details.html" class="product-link" aria-label="View details for Women's Sportswear">
              <img src="./image/women.png" alt="Women's Sportswear" loading="lazy">
              <h3 class="product-title">Women's Sportswear</h3>
              <div class="rating-container" aria-label="5 out of 5 stars">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
        </div>
              <span class="product-pricing" aria-label="Price: ‚Çπ399.00">‚Çπ399.00</span>
          </a>
          <button class="add-to-cart-btn" onclick="addToCart('women')" aria-label="Add Women's Sportswear to cart">
            Add to Cart
          </button>
        </article>

        <!-- Product 4 -->
        <article class="product-card" role="gridcell" data-category="clothing" data-price="599">
          <div class="wishlist-heart" onclick="toggleWishlist(this, 'sport')" aria-label="Add to wishlist" role="button" tabindex="0">
            <span class="heart-icon">ü§ç</span>
      </div>
          <a href="product-details.html" class="product-link" aria-label="View details for Sports Jersey">
              <img src="./image/sport.png" alt="Sports Jersey" loading="lazy">
              <h3 class="product-title">Sports Jersey</h3>
              <div class="rating-container" aria-label="5 out of 5 stars">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
        </div>
              <span class="product-pricing" aria-label="Price: ‚Çπ599.00">‚Çπ599.00</span>
          </a>
          <button class="add-to-cart-btn" onclick="addToCart('sport')" aria-label="Add Sports Jersey to cart">
            Add to Cart
          </button>
        </article>

        <!-- Product 5 -->
        <article class="product-card" role="gridcell" data-category="clothing" data-price="499">
          <div class="wishlist-heart" onclick="toggleWishlist(this, 't8')" aria-label="Add to wishlist" role="button" tabindex="0">
            <span class="heart-icon">ü§ç</span>
  </div>
          <a href="product-details.html" class="product-link" aria-label="View details for Men's Track Pants">
              <img src="./image/t8.png" alt="Men's Track Pants" loading="lazy">
              <h3 class="product-title">Men's Track Pants</h3>
              <div class="rating-container" aria-label="5 out of 5 stars">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
      </div>
              <span class="product-pricing" aria-label="Price: ‚Çπ499.00">‚Çπ499.00</span>
          </a>
          <button class="add-to-cart-btn" onclick="addToCart('t8')" aria-label="Add Men's Track Pants to cart">
            Add to Cart
          </button>
        </article>

        <!-- Product 6 -->
        <article class="product-card" role="gridcell" data-category="clothing" data-price="549">
          <div class="wishlist-heart" onclick="toggleWishlist(this, 't9')" aria-label="Add to wishlist" role="button" tabindex="0">
            <span class="heart-icon">ü§ç</span>
    </div>
          <a href="product-details.html" class="product-link" aria-label="View details for Men's Joggers">
              <img src="./image/t9.png" alt="Men's Joggers" loading="lazy">
              <h3 class="product-title">Men's Joggers</h3>
              <div class="rating-container" aria-label="5 out of 5 stars">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
      </div>
              <span class="product-pricing" aria-label="Price: ‚Çπ549.00">‚Çπ549.00</span>
          </a>
          <button class="add-to-cart-btn" onclick="addToCart('t9')" aria-label="Add Men's Joggers to cart">
            Add to Cart
          </button>
        </article>

        <!-- Product 7 -->
        <article class="product-card" role="gridcell" data-category="clothing" data-price="479">
          <div class="wishlist-heart" onclick="toggleWishlist(this, 't7')" aria-label="Add to wishlist" role="button" tabindex="0">
            <span class="heart-icon">ü§ç</span>
      </div>
          <a href="product-details.html" class="product-link" aria-label="View details for Men's Slim Fit Lower">
              <img src="./image/t7.png" alt="Men's Slim Fit Lower" loading="lazy">
              <h3 class="product-title">Men's Slim Fit Lower</h3>
              <div class="rating-container" aria-label="5 out of 5 stars">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
      </div>
              <span class="product-pricing" aria-label="Price: ‚Çπ479.00">‚Çπ479.00</span>
          </a>
          <button class="add-to-cart-btn" onclick="addToCart('t7')" aria-label="Add Men's Slim Fit Lower to cart">
            Add to Cart
          </button>
        </article>

        <!-- Product 8 -->
        <article class="product-card" role="gridcell" data-category="footwear" data-price="1299">
          <div class="wishlist-heart" onclick="toggleWishlist(this, 't10')" aria-label="Add to wishlist" role="button" tabindex="0">
            <span class="heart-icon">ü§ç</span>
      </div>
          <a href="product-details.html" class="product-link" aria-label="View details for Grey Sports Shoes">
              <img src="./image/t10.png" alt="Grey Sports Shoes" loading="lazy">
              <h3 class="product-title">Grey Sports Shoes</h3>
              <div class="rating-container" aria-label="5 out of 5 stars">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
                <img src="./image/star1.jpeg" alt="star" width="15" height="15">
      </div>
              <span class="product-pricing" aria-label="Price: ‚Çπ1,299.00">‚Çπ1,299.00</span>
          </a>
          <button class="add-to-cart-btn" onclick="addToCart('t10')" aria-label="Add Grey Sports Shoes to cart">
            Add to Cart
          </button>
        </article>

        <!-- Product 9 - Iridescent Nike Shoes -->
        <article class="product-card" role="gridcell" data-category="footwear" data-price="1499">
          <div class="wishlist-heart" onclick="toggleWishlist(this, 'iridescent-nike')" aria-label="Add to wishlist" role="button" tabindex="0">
            <span class="heart-icon">ü§ç</span>
          </div>
          <a href="product-details.html" class="product-link" aria-label="View details for Iridescent Nike Shoes">
            <img src="./image/shoes1.2.png" alt="Iridescent Nike Shoes" loading="lazy">
            <h3 class="product-title">Iridescent Nike Shoes</h3>
            <div class="rating-container" aria-label="5 out of 5 stars">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
            </div>
            <span class="product-pricing" aria-label="Price: ‚Çπ1,499.00">‚Çπ1,499.00</span>
          </a>
          <button class="add-to-cart-btn" onclick="addToCart('iridescent-nike')" aria-label="Add Iridescent Nike Shoes to cart">
            Add to Cart
          </button>
        </article>

        <!-- Product 10 - Brown Nike Sneakers -->
        <article class="product-card" role="gridcell" data-category="footwear" data-price="1299">
          <div class="wishlist-heart" onclick="toggleWishlist(this, 'brown-nike')" aria-label="Add to wishlist" role="button" tabindex="0">
            <span class="heart-icon">ü§ç</span>
          </div>
          <a href="product-details.html" class="product-link" aria-label="View details for Brown Nike Sneakers">
            <img src="./image/shoes1.1.png" alt="Brown Nike Sneakers" loading="lazy">
            <h3 class="product-title">Brown Nike Sneakers</h3>
            <div class="rating-container" aria-label="5 out of 5 stars">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
            </div>
            <span class="product-pricing" aria-label="Price: ‚Çπ1,299.00">‚Çπ1,299.00</span>
          </a>
          <button class="add-to-cart-btn" onclick="addToCart('brown-nike')" aria-label="Add Brown Nike Sneakers to cart">
            Add to Cart
          </button>
        </article>

        <!-- Product 11 - Red Black Nike Running Shoes -->
        <article class="product-card" role="gridcell" data-category="footwear" data-price="1399">
          <div class="wishlist-heart" onclick="toggleWishlist(this, 'red-black-nike')" aria-label="Add to wishlist" role="button" tabindex="0">
            <span class="heart-icon">ü§ç</span>
          </div>
          <a href="product-details.html" class="product-link" aria-label="View details for Red Black Nike Running Shoes">
            <img src="./image/shoes1.3.png" alt="Red Black Nike Running Shoes" loading="lazy">
            <h3 class="product-title">Red Black Nike Running Shoes</h3>
            <div class="rating-container" aria-label="5 out of 5 stars">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
            </div>
            <span class="product-pricing" aria-label="Price: ‚Çπ1,399.00">‚Çπ1,399.00</span>
          </a>
          <button class="add-to-cart-btn" onclick="addToCart('red-black-nike')" aria-label="Add Red Black Nike Running Shoes to cart">
            Add to Cart
          </button>
        </article>

        <!-- Product 12 - Blue Nike Running Shoes -->
        <article class="product-card" role="gridcell" data-category="footwear" data-price="1199">
          <div class="wishlist-heart" onclick="toggleWishlist(this, 'blue-nike')" aria-label="Add to wishlist" role="button" tabindex="0">
            <span class="heart-icon">ü§ç</span>
          </div>
          <a href="product-details.html" class="product-link" aria-label="View details for Blue Nike Running Shoes">
            <img src="./image/shoes1.4.png" alt="Blue Nike Running Shoes" loading="lazy">
            <h3 class="product-title">Blue Nike Running Shoes</h3>
            <div class="rating-container" aria-label="5 out of 5 stars">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
              <img src="./image/star1.jpeg" alt="star" width="15" height="15">
            </div>
            <span class="product-pricing" aria-label="Price: ‚Çπ1,199.00">‚Çπ1,199.00</span>
          </a>
          <button class="add-to-cart-btn" onclick="addToCart('blue-nike')" aria-label="Add Blue Nike Running Shoes to cart">
            Add to Cart
          </button>
        </article>
      </div>
    </section>

    <!-- Pagination Section -->
    <nav class="paginationButtonContainer" role="navigation" aria-label="Product pagination">
      <span class="paginationButton" aria-current="page">1</span>
      <a href="#" class="paginationButton" aria-label="Go to page 2">2</a>
      <a href="#" class="paginationButton" aria-label="Go to page 3">3</a>
      <a href="#" class="paginationButton" aria-label="Go to page 4">4</a>
      <a href="#" class="paginationButton" aria-label="Go to next page">&#8594;</a>
    </nav>
  </main>

  <!-- Footer Section -->
  <footer class="footer" role="contentinfo">
        <div class="footerInnerContainer">
          <div class="footerColumn footerColumn1">
          <h3>Download our App</h3>
        <p>Download App for Android and iOS mobile phone</p>
          <div class="footerStoreContainer">
          <a href="#" aria-label="Download from App Store">
            <img src="./image/appStore3.png" alt="Download from App Store" loading="lazy">
          </a>
          <a href="#" aria-label="Download from Google Play">
            <img src="./image/appStore4.png" alt="Download from Google Play" loading="lazy">
          </a>
          </div>
          </div>

          <div class="footerColumn footerColumn2">
        <h3>Useful Links</h3>
        <ul>
          <li><a href="#" aria-label="View coupons">Coupons</a></li>
          <li><a href="#" aria-label="Read blog posts">Blog Post</a></li>
          <li><a href="#" aria-label="View return policy">Return Policy</a></li>
          <li><a href="#" aria-label="Join affiliate program">Join Affiliate</a></li>
        </ul>
          </div>

          <div class="footerColumn footerColumn3">
          <h3>Follow us</h3>
        <ul>
          <li><a href="#" aria-label="Follow us on Facebook">Facebook</a></li>
          <li><a href="#" aria-label="Follow us on Twitter">Twitter</a></li>
          <li><a href="#" aria-label="Follow us on Instagram">Instagram</a></li>
          <li><a href="#" aria-label="Follow us on YouTube">YouTube</a></li>
        </ul>
      </div>
          </div>
  </footer>

  <!-- Global image preview modal -->
  <div id="imagePreviewModal" class="image-preview-modal" aria-hidden="true" role="dialog" aria-label="Image preview">
    <img id="imagePreviewImg" src="" alt="Preview" />
  </div>

  <script>
    // Wishlist management for products page
    let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];

    // Initialize wishlist hearts on page load
    document.addEventListener('DOMContentLoaded', function() {
      updateWishlistHearts();
      updateCartIcon();
      
      // Add keyboard support for wishlist hearts
      const hearts = document.querySelectorAll('.wishlist-heart');
      hearts.forEach(heart => {
        heart.addEventListener('keydown', function(e) {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            this.click();
          }
        });
      });
    });

    // Toggle wishlist functionality
    function toggleWishlist(heartElement, productId) {
      const heartIcon = heartElement.querySelector('.heart-icon');
      const isInWishlist = wishlist.includes(productId);
      
      if (isInWishlist) {
        // Remove from wishlist
        wishlist = wishlist.filter(id => id !== productId);
        heartIcon.textContent = 'ü§ç';
        heartElement.setAttribute('aria-label', 'Add to wishlist');
        showNotification('Removed from wishlist!', 'remove');
      } else {
        // Add to wishlist
        wishlist.push(productId);
        heartIcon.textContent = '‚ù§Ô∏è';
        heartElement.setAttribute('aria-label', 'Remove from wishlist');
        showNotification('Added to wishlist!', 'add');
      }
      
      // Save to localStorage
      localStorage.setItem('wishlist', JSON.stringify(wishlist));
      
      // Add animation
      heartElement.style.transform = 'scale(1.2)';
      setTimeout(() => {
        heartElement.style.transform = 'scale(1)';
      }, 200);
    }

    // Update wishlist hearts based on stored data
    function updateWishlistHearts() {
      const hearts = document.querySelectorAll('.wishlist-heart');
      hearts.forEach(heart => {
        const productId = heart.getAttribute('onclick').match(/'([^']+)'/)[1];
        const heartIcon = heart.querySelector('.heart-icon');
        
        if (wishlist.includes(productId)) {
          heartIcon.textContent = '‚ù§Ô∏è';
          heart.setAttribute('aria-label', 'Remove from wishlist');
        } else {
          heartIcon.textContent = 'ü§ç';
          heart.setAttribute('aria-label', 'Add to wishlist');
        }
      });
    }

    // Filter products functionality
    function filterProducts(category) {
      const products = document.querySelectorAll('.product-card[data-category]');
      const filterBtns = document.querySelectorAll('.filter-btn');
      
      // Update active button
      filterBtns.forEach(btn => {
        btn.classList.remove('active');
        btn.setAttribute('aria-pressed', 'false');
      });
      event.target.classList.add('active');
      event.target.setAttribute('aria-pressed', 'true');
      
      products.forEach(product => {
        if (category === 'all' || product.getAttribute('data-category') === category) {
          product.style.display = 'block';
          product.style.animation = 'fadeIn 0.5s ease-out';
        } else {
          product.style.display = 'none';
        }
      });
      
      showNotification(`Filtered by: ${category === 'all' ? 'All Products' : category}`, 'filter');
    }

    // Add event listeners to filter buttons
    document.addEventListener('DOMContentLoaded', function() {
      const filterBtns = document.querySelectorAll('.filter-btn');
      filterBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const category = this.getAttribute('data-category');
          filterProducts(category);
        });
      });
    });

    // Sort products functionality
    document.getElementById('sort-select').addEventListener('change', function() {
      const sortValue = this.value;
      const productContainer = document.querySelector('.product-container');
      const products = Array.from(productContainer.querySelectorAll('.product-card[data-category]'));
      
      products.sort((a, b) => {
        const priceA = parseInt(a.getAttribute('data-price'));
        const priceB = parseInt(b.getAttribute('data-price'));
        
        switch(sortValue) {
          case 'price-low':
            return priceA - priceB;
          case 'price-high':
            return priceB - priceA;
          case 'popularity':
            // Random sort for demo
            return Math.random() - 0.5;
          case 'rating':
            // All products have 5 stars, so maintain current order
            return 0;
          case 'sale':
            // Sort by price descending for demo
            return priceB - priceA;
          default:
            return 0;
        }
      });
      
      // Re-append sorted products
      products.forEach(product => {
        productContainer.appendChild(product);
      });
      
      showNotification(`Sorted by: ${this.options[this.selectedIndex].text}`, 'sort');
    });

    // Notification system
    function showNotification(message, type) {
      // Remove existing notification
      const existingNotification = document.querySelector('.notification');
      if (existingNotification) {
        existingNotification.remove();
      }
      
      // Create notification
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      notification.textContent = message;
      
      // Style notification
      Object.assign(notification.style, {
        position: 'fixed',
        top: '20px',
        right: '20px',
        background: type === 'add' ? '#4CAF50' : 
                   type === 'remove' ? '#f44336' : 
                   type === 'filter' ? '#2196F3' : '#FF9800',
        color: 'white',
        padding: '12px 20px',
        borderRadius: '8px',
        boxShadow: '0 4px 12px rgba(0,0,0,0.15)',
        zIndex: '1000',
        fontSize: '14px',
        fontWeight: '500',
        transform: 'translateX(100%)',
        transition: 'transform 0.3s ease'
      });
      
      document.body.appendChild(notification);
      
      // Animate in
      setTimeout(() => {
        notification.style.transform = 'translateX(0)';
      }, 10);
      
      // Auto remove
      setTimeout(() => {
        notification.style.transform = 'translateX(100%)';
        setTimeout(() => {
          if (notification.parentNode) {
            notification.remove();
          }
        }, 300);
      }, 3000);
    }

    // Cart management system
    let cart = JSON.parse(localStorage.getItem('cart')) || [];

    // Add to cart functionality
    function addToCart(productId) {
      // Check if product already exists in cart
      const existingItem = cart.find(item => item.id === productId);
      
      if (existingItem) {
        // Increase quantity if already in cart
        existingItem.quantity += 1;
        showNotification('Quantity increased!', 'add');
      } else {
        // Add new item to cart
        cart.push({
          id: productId,
          quantity: 1
        });
        showNotification('Added to cart!', 'add');
      }
      
      // Save to localStorage
      localStorage.setItem('cart', JSON.stringify(cart));
      
      // Update cart icon
      updateCartIcon();
    }

    // Update cart icon with item count
    function updateCartIcon() {
      const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
      const cartIcon = document.querySelector('a[href="carts.html"] img');
      
      if (cartCount > 0) {
        // Add cart count badge
        let badge = document.querySelector('.cart-badge');
        if (!badge) {
          badge = document.createElement('span');
          badge.className = 'cart-badge';
          badge.style.cssText = `
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff523b;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
          `;
          cartIcon.parentElement.style.position = 'relative';
          cartIcon.parentElement.appendChild(badge);
        }
        badge.textContent = cartCount;
      } else {
        // Remove cart count badge
        const badge = document.querySelector('.cart-badge');
        if (badge) {
          badge.remove();
        }
      }
    }

    // Ensure Add to Cart buttons exist on products grid as well
    function ensureAddToCartButtonsProducts() {
      const cards = document.querySelectorAll('.feature-products .product-container .product-card');
      cards.forEach(card => {
        const link = card.querySelector('a.product-link');
        if (!link) return;
        const img = link.querySelector('img');
        const title = link.querySelector('.product-title');
        let productId = '';
        if (img && img.getAttribute('src')) {
          const src = img.getAttribute('src');
          const match = src.match(/([\w\-]+)\.(png|jpe?g|webp|gif)$/i);
          productId = match ? match[1] : (title ? title.textContent.trim().toLowerCase().replace(/[^a-z0-9]+/g,'-') : 'item');
        }
        if (!card.querySelector('.add-to-cart-btn')) {
          const btn = document.createElement('button');
          btn.className = 'add-to-cart-btn';
          btn.type = 'button';
          btn.textContent = 'Add to Cart';
          btn.setAttribute('aria-label', `Add ${title ? title.textContent : 'product'} to cart`);
          btn.addEventListener('click', () => addToCart(productId));
          card.appendChild(btn);
        }
      });
    }

    // Image preview wiring for products page
    function wireImagePreviewProducts() {
      const modal = document.getElementById('imagePreviewModal');
      const modalImg = document.getElementById('imagePreviewImg');
      document.querySelectorAll('.feature-products .product-container .product-card img').forEach(img => {
        img.addEventListener('click', e => {
          e.preventDefault();
          modalImg.src = img.src;
          modal.classList.add('show');
          modal.setAttribute('aria-hidden', 'false');
        });
      });
      modal.addEventListener('click', e => {
        if (e.target === modal) {
          modal.classList.remove('show');
          modal.setAttribute('aria-hidden', 'true');
          modalImg.src = '';
        }
      });
      document.addEventListener('keydown', e => {
        if (e.key === 'Escape' && modal.classList.contains('show')) {
          modal.classList.remove('show');
          modal.setAttribute('aria-hidden', 'true');
          modalImg.src = '';
        }
      });
    }

    document.addEventListener('DOMContentLoaded', function() {
      ensureAddToCartButtonsProducts();
      wireImagePreviewProducts();
    });
  </script>
</body>
</html>