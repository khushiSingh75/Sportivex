<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Shopping cart - Review and manage your selected items">
  <meta name="keywords" content="shopping cart, checkout, e-commerce, online store">
  <title>Shopping Cart - Sports & Fitness Store</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Header Section -->
  <header class="header" role="banner">
    <div class="container">
      <nav class="navbar" role="navigation" aria-label="Main navigation">
        <a href="index.html" aria-label="Go to home page">Home</a>
        <a href="products.html" aria-label="Go to products page">Products</a>
        <a href="about.html" aria-label="Go to about page">About</a>
        <a href="contact.html" aria-label="Go to contact page">Contact</a>
        <a href="account.html" aria-label="Go to account page">Account</a>
        <a href="carts.html" aria-current="page" aria-label="View shopping cart">
          <img src="./image/cart2.png" width="30" height="30" alt="Shopping cart" loading="lazy">
        </a>
      </nav>
    </div>
  </header>

  <!-- Main Cart Section -->
  <main class="cartsSelectionWrapper" role="main">
    <h1 class="visually-hidden">Shopping Cart</h1>
    
    <!-- Empty Cart Message -->
    <div id="empty-cart-message" class="empty-cart-message" style="display: none;">
      <div class="empty-cart-content">
        <img src="./image/cart2.png" alt="Empty cart" width="100" height="100">
        <h2>Your cart is empty</h2>
        <p>Looks like you haven't added any items to your cart yet.</p>
        <a href="products.html" class="continue-shopping-btn">Continue Shopping</a>
      </div>
    </div>

    <!-- Cart Items Table -->
    <section id="cart-items-section" aria-labelledby="cart-items-heading">
      <h2 id="cart-items-heading" class="visually-hidden">Cart Items</h2>
      <table role="table" aria-label="Shopping cart items" id="cart-table">
        <thead>
          <tr>
            <th scope="col">Product</th>
            <th scope="col">Quantity</th>
            <th scope="col">Subtotal</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <tbody id="cart-items-tbody">
          <!-- Cart items will be dynamically added here -->
        </tbody>
      </table>
    </section>

    <!-- Order Summary Section -->
    <section class="totalPrice" aria-labelledby="order-summary-heading" id="order-summary-section" style="display: none;">
      <h2 id="order-summary-heading" class="visually-hidden">Order Summary</h2>
      <table role="table" aria-label="Order summary">
        <tbody>
          <tr>
            <td>Subtotal</td>
            <td aria-label="Subtotal" id="subtotal">₹0.00</td>
          </tr>
          <tr>
            <td>Tax</td>
            <td aria-label="Tax" id="tax">₹0.00</td>
          </tr>
          <tr>
            <td><strong>Total</strong></td>
            <td aria-label="Total" id="total"><strong>₹0.00</strong></td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Checkout Section -->
    <section class="totalPrice" aria-labelledby="checkout-heading" id="checkout-section" style="display: none;">
      <h2 id="checkout-heading" class="visually-hidden">Checkout</h2>
      <a href="#" class="checkoutButton" role="button" aria-label="Proceed to checkout">Proceed to Checkout→</a>
    </section>
  </main>

  <!-- Footer Section -->
  <footer class="footer" role="contentinfo">
    <div class="footerInnerContainer">
      <div class="footerColumn footerColumn1">
        <h3>Download our App</h3>
        <p>Download App for Android and iOS mobile phone</p>
        <div class="footerStoreContainer">
          <a href="#" aria-label="Download from App Store">
            <img src="./image/appStore3.png" alt="Download from App Store" loading="lazy">
          </a>
          <a href="#" aria-label="Download from Google Play">
            <img src="./image/appStore4.png" alt="Download from Google Play" loading="lazy">
          </a>
        </div>
      </div>

      <div class="footerColumn footerColumn2">
        <h3>Useful Links</h3>
        <ul>
          <li><a href="#" aria-label="View coupons">Coupons</a></li>
          <li><a href="#" aria-label="Read blog posts">Blog Post</a></li>
          <li><a href="#" aria-label="View return policy">Return Policy</a></li>
          <li><a href="#" aria-label="Join affiliate program">Join Affiliate</a></li>
        </ul>
      </div>

      <div class="footerColumn footerColumn3">
        <h3>Follow us</h3>
        <ul>
          <li><a href="#" aria-label="Follow us on Facebook">Facebook</a></li>
          <li><a href="#" aria-label="Follow us on Twitter">Twitter</a></li>
          <li><a href="#" aria-label="Follow us on Instagram">Instagram</a></li>
          <li><a href="#" aria-label="Follow us on YouTube">YouTube</a></li>
        </ul>
      </div>
    </div>
  </footer>

  <script>
    // Cart management system
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    
    // Product database with images and prices
    const productDatabase = {
      'menwear': {
        name: "Men's Sportswear",
        image: "./image/menwear.png",
        price: 799
      },
      'shorts': {
        name: "Sports Shorts",
        image: "./image/shorts.png",
        price: 299
      },
      'women': {
        name: "Women's Sportswear",
        image: "./image/women.png",
        price: 399
      },
      'sport': {
        name: "Sports Jersey",
        image: "./image/sport.png",
        price: 599
      },
      't8': {
        name: "Men's Track Pants",
        image: "./image/t8.png",
        price: 499
      },
      't9': {
        name: "Men's Joggers",
        image: "./image/t9.png",
        price: 549
      },
      't7': {
        name: "Men's Slim Fit Lower",
        image: "./image/t7.png",
        price: 479
      },
      't10': {
        name: "Grey Sports Shoes",
        image: "./image/t10.png",
        price: 1299
      },
      'gym-trainer': {
        name: "Women Sport's bra",
        image: "./image/gym trainer.png",
        price: 799
      },
      't1': {
        name: "Women's Sportswear",
        image: "./image/t1.png",
        price: 899
      },
      't21': {
        name: "Running Shoes",
        image: "./image/t21.png",
        price: 1299
      },
      't5': {
        name: "Black Sports Lower",
        image: "./image/t5.png",
        price: 499
      },
      'iridescent-nike': {
        name: "Iridescent Nike Shoes",
        image: "./image/iridescent-nike.jpg",
        price: 1499
      },
      'brown-nike': {
        name: "Brown Nike Sneakers",
        image: "./image/brown-nike.jpg",
        price: 1299
      },
      'red-black-nike': {
        name: "Red Black Nike Running Shoes",
        image: "./image/red-black-nike.jpg",
        price: 1399
      },
      'blue-nike': {
        name: "Blue Nike Running Shoes",
        image: "./image/blue-nike.jpg",
        price: 1199
      }
    };

    // Initialize cart display
    document.addEventListener('DOMContentLoaded', function() {
      displayCart();
    });

    // Display cart items
    function displayCart() {
      const cartItemsTbody = document.getElementById('cart-items-tbody');
      const emptyCartMessage = document.getElementById('empty-cart-message');
      const cartItemsSection = document.getElementById('cart-items-section');
      const orderSummarySection = document.getElementById('order-summary-section');
      const checkoutSection = document.getElementById('checkout-section');

      if (cart.length === 0) {
        // Show empty cart message
        emptyCartMessage.style.display = 'block';
        cartItemsSection.style.display = 'none';
        orderSummarySection.style.display = 'none';
        checkoutSection.style.display = 'none';
        return;
      }

      // Hide empty cart message and show cart items
      emptyCartMessage.style.display = 'none';
      cartItemsSection.style.display = 'block';
      orderSummarySection.style.display = 'block';
      checkoutSection.style.display = 'block';

      // Clear existing items
      cartItemsTbody.innerHTML = '';

      // Add each cart item
      cart.forEach((item, index) => {
        const product = productDatabase[item.id];
        if (product) {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>
              <div class="cart-info">
                <img src="${product.image}" alt="${product.name}" loading="lazy" width="80" height="80">
                <div class="class-info-details">
                  <h3>${product.name}</h3>
                  <p aria-label="Price: ₹${product.price}.00">Price ₹${product.price}.00</p>
                </div>
              </div>
            </td>
            <td>
              <label for="quantity-${index}" class="visually-hidden">Quantity for ${product.name}:</label>
              <input type="number" id="quantity-${index}" value="${item.quantity}" min="1" max="10" 
                     aria-label="Quantity for ${product.name}" onchange="updateQuantity(${index}, this.value)">
            </td>
            <td aria-label="Subtotal: ₹${product.price * item.quantity}.00">₹${product.price * item.quantity}.00</td>
            <td>
              <button onclick="removeFromCart(${index})" class="remove-btn" aria-label="Remove ${product.name} from cart">
                Remove
              </button>
            </td>
          `;
          cartItemsTbody.appendChild(row);
        }
      });

      // Update totals
      updateTotals();
    }

    // Update quantity
    function updateQuantity(index, newQuantity) {
      if (newQuantity >= 1 && newQuantity <= 10) {
        cart[index].quantity = parseInt(newQuantity);
        localStorage.setItem('cart', JSON.stringify(cart));
        displayCart();
        updateCartIcon();
      }
    }

    // Remove item from cart
    function removeFromCart(index) {
      cart.splice(index, 1);
      localStorage.setItem('cart', JSON.stringify(cart));
      displayCart();
      updateCartIcon();
      showNotification('Item removed from cart!', 'remove');
    }

    // Update totals
    function updateTotals() {
      let subtotal = 0;
      cart.forEach(item => {
        const product = productDatabase[item.id];
        if (product) {
          subtotal += product.price * item.quantity;
        }
      });

      const tax = subtotal * 0.15; // 15% tax
      const total = subtotal + tax;

      document.getElementById('subtotal').textContent = `₹${subtotal}.00`;
      document.getElementById('tax').textContent = `₹${tax.toFixed(0)}.00`;
      document.getElementById('total').innerHTML = `<strong>₹${total.toFixed(0)}.00</strong>`;
    }

    // Update cart icon with item count
    function updateCartIcon() {
      const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
      const cartIcon = document.querySelector('a[href="carts.html"] img');
      
      if (cartCount > 0) {
        // Add cart count badge
        let badge = document.querySelector('.cart-badge');
        if (!badge) {
          badge = document.createElement('span');
          badge.className = 'cart-badge';
          badge.style.cssText = `
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff523b;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
          `;
          cartIcon.parentElement.style.position = 'relative';
          cartIcon.parentElement.appendChild(badge);
        }
        badge.textContent = cartCount;
      } else {
        // Remove cart count badge
        const badge = document.querySelector('.cart-badge');
        if (badge) {
          badge.remove();
        }
      }
    }

    // Notification system
    function showNotification(message, type) {
      const existingNotification = document.querySelector('.notification');
      if (existingNotification) {
        existingNotification.remove();
      }
      
      const notification = document.createElement('div');
      notification.className = `notification ${type}`;
      notification.textContent = message;
      
      Object.assign(notification.style, {
        position: 'fixed',
        top: '20px',
        right: '20px',
        background: type === 'add' ? '#4CAF50' : '#f44336',
        color: 'white',
        padding: '12px 20px',
        borderRadius: '8px',
        boxShadow: '0 4px 12px rgba(0,0,0,0.15)',
        zIndex: '1000',
        fontSize: '14px',
        fontWeight: '500',
        transform: 'translateX(100%)',
        transition: 'transform 0.3s ease'
      });
      
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.transform = 'translateX(0)';
      }, 10);
      
      setTimeout(() => {
        notification.style.transform = 'translateX(100%)';
        setTimeout(() => {
          if (notification.parentNode) {
            notification.remove();
          }
        }, 300);
      }, 3000);
    }

    // Initialize cart icon
    updateCartIcon();
  </script>
</body>
</html>